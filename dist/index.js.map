{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["/** @format */\n\nimport React, { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport './styles.css';\n\n/**\n * Takes an URL String and removes query params and hash params\n *\n * @param url - The URL string\n * @returns The transformed URL string\n *\n */\nconst getPathFromUrl = (url: string): string => {\n  return url.split(/[?#]/)[0];\n};\n\n/**\n * Takes a breadcrumb title (from url path) and replaces\n * special chars to more readable chars\n *\n * @param title - The breadcrumb title\n * @returns The transformed title or the result of the custom transformLabel function\n *\n */\nconst convertBreadcrumb = (\n  title: string,\n  toUpperCase: boolean | undefined,\n  replaceCharacterList: Array<CharacterMap> | undefined,\n  transformLabel?: ((title: string) => React.ReactNode) | undefined\n): React.ReactNode => {\n  let transformedTitle = getPathFromUrl(title);\n\n  if (transformLabel) {\n    return transformLabel(transformedTitle);\n  }\n\n  if (replaceCharacterList) {\n    for (let i = 0; i < replaceCharacterList.length; i++) {\n      transformedTitle = transformedTitle.replaceAll(\n        replaceCharacterList[i].from,\n        replaceCharacterList[i].to\n      );\n    }\n  }\n\n  // decode for utf-8 characters and return ascii.\n  return toUpperCase ? decodeURI(transformedTitle).toUpperCase() : decodeURI(transformedTitle);\n};\n\nexport interface Breadcrumb {\n  /** Breadcrumb title. Example: 'blog-entries' */\n  breadcrumb: string;\n\n  /** The URL which the breadcrumb points to. Example: 'blog/blog-entries' */\n  href: string;\n}\n\nexport interface CharacterMap {\n  /** The source character or character pattern that should be replaced (e.g. 'ae') */\n  from: string;\n\n  /** The replacement into which the character should be replaced. */\n  to: string;\n}\n\nexport interface BreadcrumbsProps {\n  /** If true, the default styles are used.\n   * Make sure to import the CSS in _app.js\n   * Example: true Default: false */\n  useDefaultStyle?: boolean;\n\n  /** The title for the very first breadcrumb pointing to the root directory. Example: '/' Default: 'HOME' */\n  rootLabel?: string | null;\n\n  /** Boolean indicator whether the root label should be omitted. Example: true Default: false */\n  omitRootLabel?: boolean;\n\n  /** Boolean indicator if the labels should be displayed as uppercase. Example: true Default: false */\n  labelsToUppercase?: boolean | undefined;\n\n  /** Array containing a list of specific characters that should be replaced in the label. This can be useful to convert special characters such as vowels. Example: [{ from: 'ae', to: 'Ã¤' }, { from: '-', to: ' '}] Default: [{ from: '-', to: ' ' }] */\n  replaceCharacterList?: Array<CharacterMap> | undefined;\n\n  /** A transformation function that allows to customize the label strings. Receives the label string and has to return a string or React Component */\n  transformLabel?: ((title: string) => React.ReactNode) | undefined;\n\n  /** Array containing all the indexes of the path that should be omitted and not be rendered as labels. If we have a path like '/home/category/1' then you might want to pass '[2]' here, which omits the breadcrumb label '1'. Indexes start with 0. Example: [2] Default: undefined */\n  omitIndexList?: Array<number> | undefined;\n\n  /** An inline style object for the outer container */\n  containerStyle?: any | null;\n\n  /** Classes to be used for the outer container. Won't be used if useDefaultStyle is true */\n  className?: string;\n\n  /** An inline style object for the breadcrumb list */\n  listStyle?: any | null;\n\n  /** Classes to be used for the breadcrumb list */\n  listClassName?: string;\n\n  /** An inline style object for the inactive breadcrumb list item */\n  inactiveItemStyle?: any | null;\n\n  /** Classes to be used for the inactive breadcrumb list item */\n  inactiveItemClassName?: string;\n\n  /** An inline style object for the active breadcrumb list item */\n  activeItemStyle?: any | null;\n\n  /** Classes to be used for the active breadcrumb list item */\n  activeItemClassName?: string;\n\n  /** Use staticBreadcrumbs when you want to create a breadcrumbs instance independent from the router */\n  staticBreadcrumbs?: Array<Breadcrumb>;\n}\n\nconst defaultProps: BreadcrumbsProps = {\n  useDefaultStyle: false,\n  rootLabel: 'Home',\n  omitRootLabel: false,\n  labelsToUppercase: false,\n  replaceCharacterList: [{from: '-', to: ' '}],\n  transformLabel: undefined,\n  omitIndexList: undefined,\n  containerStyle: null,\n  className: '',\n  listStyle: null,\n  listClassName: '',\n  inactiveItemStyle: null,\n  inactiveItemClassName: '',\n  activeItemStyle: null,\n  activeItemClassName: '',\n  staticBreadcrumbs: undefined,\n};\n\n/**\n * A functional React component for Next.js that renders a dynamic Breadcrumb navigation\n * based on the current path within the Next.js router navigation.\n *\n * Only works in conjunction with Next.js, since it leverages the Next.js router.\n *\n * By setting useDefaultStyle to true, the default CSS will be used.\n * The component is highly customizable by either custom classes or\n * inline styles, which can be passed as props.\n *\n * @param props - object of type BreadcrumbsProps\n * @returns The breadcrumb React component.\n */\nconst Breadcrumbs = ({\n  useDefaultStyle,\n  rootLabel,\n  omitRootLabel,\n  labelsToUppercase,\n  replaceCharacterList,\n  transformLabel,\n  omitIndexList,\n  containerStyle,\n  listStyle,\n  listClassName,\n  inactiveItemStyle,\n  inactiveItemClassName,\n  activeItemStyle,\n  activeItemClassName,\n  staticBreadcrumbs,\n  className,\n}: BreadcrumbsProps) => {\n  const router = useRouter();\n  const [breadcrumbs, setBreadcrumbs] = useState<Array<Breadcrumb> | null>(null);\n\n  useEffect(() => {\n    if (staticBreadcrumbs) {\n      setBreadcrumbs(staticBreadcrumbs);\n    } else if (router) {\n      const linkPath = router.asPath.split('/');\n      linkPath.shift();\n\n      const pathArray = linkPath.map((path, i) => {\n        return {\n          breadcrumb: path,\n          href: '/' + linkPath.slice(0, i + 1).join('/'),\n        };\n      });\n\n      setBreadcrumbs(pathArray);\n    }\n  }, [router]);\n\n  if (!breadcrumbs) {\n    return null;\n  }\n\n  return (\n    <nav\n      style={containerStyle}\n      className={className}\n      aria-label=\"breadcrumbs\"\n    >\n      <ol\n        style={listStyle}\n        className={useDefaultStyle ? '_2jvtI' : listClassName}\n      >\n        {!omitRootLabel && (\n          <li style={inactiveItemStyle} className={inactiveItemClassName}>\n            <Link href=\"/\">\n              <a>\n                {convertBreadcrumb(\n                  rootLabel || 'Home',\n                  labelsToUppercase,\n                  replaceCharacterList,\n                  transformLabel\n                )}\n              </a>\n            </Link>\n          </li>\n        )}\n        {breadcrumbs!.length >= 1 &&\n          breadcrumbs!.map((breadcrumb, i) => {\n            if (\n              !breadcrumb ||\n              breadcrumb.breadcrumb.length === 0 ||\n              (omitIndexList && omitIndexList.find((value) => value === i))\n            ) {\n              return;\n            }\n            return (\n              <li\n                key={breadcrumb.href}\n                className={\n                  i === breadcrumbs!.length - 1\n                    ? activeItemClassName\n                    : inactiveItemClassName\n                }\n                style={\n                  i === breadcrumbs!.length - 1\n                    ? activeItemStyle\n                    : inactiveItemStyle\n                }\n              >\n                <Link href={breadcrumb.href}>\n                  <a>\n                    {convertBreadcrumb(\n                      breadcrumb.breadcrumb,\n                      labelsToUppercase,\n                      replaceCharacterList,\n                      transformLabel\n                    )}\n                  </a>\n                </Link>\n              </li>\n            );\n          })}\n      </ol>\n    </nav>\n  );\n};\n\nBreadcrumbs.defaultProps = defaultProps;\n\nexport default Breadcrumbs;\n"],"names":["getPathFromUrl","url","split","convertBreadcrumb","title","toUpperCase","replaceCharacterList","transformLabel","transformedTitle","i","length","replaceAll","from","to","decodeURI","defaultProps","useDefaultStyle","rootLabel","omitRootLabel","labelsToUppercase","undefined","omitIndexList","containerStyle","className","listStyle","listClassName","inactiveItemStyle","inactiveItemClassName","activeItemStyle","activeItemClassName","staticBreadcrumbs","Breadcrumbs","router","useRouter","useState","breadcrumbs","setBreadcrumbs","useEffect","linkPath","asPath","shift","pathArray","map","path","breadcrumb","href","slice","join","React","style","Link","find","value","key"],"mappings":"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"}